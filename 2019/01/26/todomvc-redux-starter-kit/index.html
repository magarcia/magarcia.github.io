<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/component---src-templates-blog-post-js.5dcf58bf6f0ff11f6d41.css">@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:100;src:url(//rsms.me/inter/font-files/Inter-UI-Thin.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Thin.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:100;src:url(//rsms.me/inter/font-files/Inter-UI-ThinItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-ThinItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:200;src:url(//rsms.me/inter/font-files/Inter-UI-ExtraLight.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-ExtraLight.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:200;src:url(//rsms.me/inter/font-files/Inter-UI-ExtraLightItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-ExtraLightItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:300;src:url(//rsms.me/inter/font-files/Inter-UI-Light.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Light.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:300;src:url(//rsms.me/inter/font-files/Inter-UI-LightItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-LightItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:400;src:url(//rsms.me/inter/font-files/Inter-UI-Regular.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Regular.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:400;src:url(//rsms.me/inter/font-files/Inter-UI-Italic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Italic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:500;src:url(//rsms.me/inter/font-files/Inter-UI-Medium.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Medium.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:500;src:url(//rsms.me/inter/font-files/Inter-UI-MediumItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-MediumItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:600;src:url(//rsms.me/inter/font-files/Inter-UI-SemiBold.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-SemiBold.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:600;src:url(//rsms.me/inter/font-files/Inter-UI-SemiBoldItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-SemiBoldItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:700;src:url(//rsms.me/inter/font-files/Inter-UI-Bold.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Bold.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:700;src:url(//rsms.me/inter/font-files/Inter-UI-BoldItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-BoldItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:800;src:url(//rsms.me/inter/font-files/Inter-UI-ExtraBold.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-ExtraBold.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:800;src:url(//rsms.me/inter/font-files/Inter-UI-ExtraBoldItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-ExtraBoldItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:normal;font-weight:900;src:url(//rsms.me/inter/font-files/Inter-UI-Black.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-Black.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI;font-style:italic;font-weight:900;src:url(//rsms.me/inter/font-files/Inter-UI-BlackItalic.woff2?v=3.2) format("woff2"),url(//rsms.me/inter/font-files/Inter-UI-BlackItalic.woff?v=3.2) format("woff")}@font-face{font-display:swap;font-family:Inter UI var;font-weight:100 900;font-style:oblique 0deg 10deg;src:url(//rsms.me/inter/font-files/Inter-UI.var.woff2?v=3.2) format("woff2-variations"),url(//rsms.me/inter/font-files/Inter-UI.var.woff2?v=3.2) format("woff2")}@font-face{font-display:swap;font-family:Inter UI var alt;font-weight:100 900;font-style:normal;font-named-instance:"Regular";src:url(//rsms.me/inter/font-files/Inter-UI-upright.var.woff2?v=3.2) format("woff2 supports variations(gvar)"),url(//rsms.me/inter/font-files/Inter-UI-upright.var.woff2?v=3.2) format("woff2-variations"),url(//rsms.me/inter/font-files/Inter-UI-upright.var.woff2?v=3.2) format("woff2")}@font-face{font-display:swap;font-family:Inter UI var alt;font-weight:100 900;font-style:italic;font-named-instance:"Italic";src:url(//rsms.me/inter/font-files/Inter-UI-italic.var.woff2?v=3.2) format("woff2 supports variations(gvar)"),url(//rsms.me/inter/font-files/Inter-UI-italic.var.woff2?v=3.2) format("woff2-variations"),url(//rsms.me/inter/font-files/Inter-UI-italic.var.woff2?v=3.2) format("woff2")}@-ms-viewport{width:device-width}@-o-viewport{width:device-width}@viewport{width:device-width}*{margin:0;padding:0;font-family:inherit}body{background:#fff;color:#111;font-family:Inter UI,-system-ui,system-ui,sans-serif;font-size:16px;line-height:1.5;width:100%;max-width:45rem;margin:0 auto;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;-ms-font-feature-settings:"calt" 1,"kern" 1,"liga" 1;-o-font-feature-settings:"calt" 1,"kern" 1,"liga" 1;-webkit-font-feature-settings:"calt" 1,"kern" 1,"liga" 1;font-feature-settings:"calt" 1,"kern" 1,"liga" 1}@supports (font-variation-settings:normal){body{font-family:Inter UI var,-system-ui,system-ui,sans-serif}html.vf-alt body{font-family:Inter UI var alt,-system-ui,system-ui,sans-serif}}blockquote,hr,object,ol,p,pre,ul{margin:1rem 0}code,pre,tt{font-family:SFMono-Regular,Menlo,Liberation Mono,Consolas,Courier,monospace}img{vertical-align:bottom}hr,img{border:none}hr{height:1px;background-color:#ddd}b,strong{font-weight:600}article{margin-bottom:4rem}h1,h2,h3,h4,h5,h6{font-weight:500;color:#010101;margin:1.618rem 0 .7rem;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1{font-size:3rem;font-weight:700;letter-spacing:-.05rem;line-height:1.1;margin-left:-2px}@media only screen and (min-device-width:480px){h1{font-size:4rem}}h2{font-size:2rem;letter-spacing:-.01rem;margin-left:-.5px}h2,h3{font-weight:700;line-height:1.35}h3{font-size:1.8rem}h3,h4{letter-spacing:0}h4{font-size:1.5rem;font-weight:500;line-height:1.35}h5,h6{font-size:1.2rem;margin:1rem 0 -.2rem;letter-spacing:.01rem}a[href]:not(.anchor):not(.gatsby-resp-image-link){text-decoration:none;background-repeat:repeat-x;background-image:linear-gradient(90deg,rgba(0,0,0,.84) 100%,transparent 0);background-image:linear-gradient(90deg,currentColor 100%,currentColor 0);background-size:1px 1px;background-position:0 1.05em;background-position:0 calc(1em + 1px);color:inherit}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{background:transparent!important}::selection,mark{background:#faf014;text-shadow:none;padding:0 3px}.footer,.header,main{margin:0 2rem}.header{display:flex;justify-content:space-between;height:100px;cursor:default}.header h1{background:#faf014;font-size:3rem;padding:0 1rem;height:3.8rem;margin:0 -1rem}.header h1 a::selection{background:transparent}.header h3{font-size:2rem;margin:0}.footer,.header{max-width:50rem;margin:2rem}.footer{display:flex;justify-content:space-between}.footer,nav{margin-top:4.375rem;padding-top:1.75rem}nav ul{display:flex;justify-content:space-between;padding:0;list-style:none;flex-wrap:wrap}.info{color:rgba(0,0,0,.55)}.info::selection,.info ::selection{background:rgba(250,240,20,.2)}.post-list header h3{margin-bottom:0}.aside{position:fixed;top:150px;margin-left:-100px;visibility:hidden;opacity:0;transition:visibility 0s linear .3s,opacity .3s 0s}.aside.visible{visibility:visible;opacity:1;transition:visibility 0s linear 0s,opacity .3s 0s}.aside a{font-size:17px;color:rgba(0,0,0,.84);opacity:.65;display:block;position:relative;background:transparent;text-decoration:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;box-sizing:border-box;margin:10px 3px;height:24px;background:transparent!important}.aside a:hover{opacity:1}.ssrAnimation{-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-name:toggle;animation-name:toggle;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes toggle{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}@keyframes toggle{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}code[class*=language-],pre[class*=language-]{color:#333;background:none;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;-webkit-font-feature-settings:normal;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#dfe2f1}:not(pre)>code[class*=language-]{border-radius:1px;background:var(--inlineCode-bg);color:var(--inlineCode-text);padding:.15rem .2rem .05rem;white-space:normal;background:rgba(0,0,0,.05);font-size:1rem}pre[class*=language-]{padding:1rem;margin:.5rem 0;overflow:auto}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#898ea4}.token.punctuation{color:#5e6687}.token.namespace{opacity:.7}.token.boolean,.token.number,.token.operator{color:#c76b29}.token.property{color:#c08b30}.token.tag{color:#3d8fd1}.token.string{color:#22a2c9}.token.selector{color:#6679cc}.token.attr-name{color:#c76b29}.language-css .token.string,.style .token.string,.token.entity,.token.url{color:#22a2c9}.token.attr-value,.token.control,.token.directive,.token.keyword,.token.unit{color:#ac9739}.token.atrule,.token.regex,.token.statement{color:#22a2c9}.token.placeholder,.token.variable{color:#3d8fd1}.token.deleted{text-decoration:line-through}.token.inserted{border-bottom:1px dotted #202746;text-decoration:none}.token.italic{font-style:italic}.token.bold,.token.important{font-weight:700}.token.important{color:#c94922}.token.entity{cursor:help}pre>code.highlight{outline:.4em solid #c94922;outline-offset:.4em}.line-numbers .line-numbers-rows{border-right-color:#dfe2f1}.line-numbers-rows>span:before{color:#979db4}.line-highlight{background:rgba(107,115,148,.2);background:linear-gradient(90deg,rgba(107,115,148,.2) 70%,rgba(107,115,148,0))}pre[data-line]{padding:1em 0 1em 3em;position:relative}.gatsby-highlight-code-line{background-color:#022a4b;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #ffa7c4}.gatsby-highlight{margin-bottom:1.75rem;font-size:16px;border-radius:1px;background:rgba(0,0,0,.05);-webkit-overflow-scrolling:touch;overflow:auto}.gatsby-highlight pre[class*=language-]{float:left;min-width:100%}</style><meta name="generator" content="Gatsby 2.0.98"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="magarcia Blog RSS Feed" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#faf014"/><title data-react-helmet="true">Refactor TodoMVC with Redux Starter Kit — magarcia</title><meta data-react-helmet="true" name="description" content="How to make redux related code more readable."/><meta data-react-helmet="true" property="og:url" content="https://magarcia.io/todomvc-redux-starter-kit/"/><meta data-react-helmet="true" property="og:title" content="Refactor TodoMVC with Redux Starter Kit"/><meta data-react-helmet="true" name="og:description" content="How to make redux related code more readable."/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@martinprins"/><meta data-react-helmet="true" name="twitter:title" content="Refactor TodoMVC with Redux Starter Kit"/><meta data-react-helmet="true" name="twitter:description" content="How to make redux related code more readable."/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-64ad2b4d3bffb7d2b51c.js"/><link as="script" rel="preload" href="/0-79f3b6d3bbaf0f030044.js"/><link as="script" rel="preload" href="/app-44e083055daca69579cf.js"/><link as="script" rel="preload" href="/webpack-runtime-510fead3823cd2e26b43.js"/><link as="fetch" rel="preload" href="/static/d/623/path---2019-01-26-todomvc-redux-starter-kit-ac-1-ad5-z5PNVYvh5fIsENXlJhW54W3GAno.json" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header class="header"><h3><a href="/">magarcia</a></h3></header><aside class="aside  ssrAnimation"><a title="Share on Twitter" aria-label="Share on Twitter" target="_blank" rel="noopener noreferrer" href="https://twitter.com/intent/tweet?text=Refactor TodoMVC with Redux Starter Kit&amp;url=https://magarcia.github.io/2019/01/26/todomvc-redux-starter-kit/&amp;via=martinprins"><img src="data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHRpdGxlPlR3aXR0ZXIgaWNvbjwvdGl0bGU+CiAgICA8cGF0aCBkPSJNMjMuOTU0IDQuNTY5Yy0uODg1LjM4OS0xLjgzLjY1NC0yLjgyNS43NzUgMS4wMTQtLjYxMSAxLjc5NC0xLjU3NCAyLjE2My0yLjcyMy0uOTUxLjU1NS0yLjAwNS45NTktMy4xMjcgMS4xODQtLjg5Ni0uOTU5LTIuMTczLTEuNTU5LTMuNTkxLTEuNTU5LTIuNzE3IDAtNC45MiAyLjIwMy00LjkyIDQuOTE3IDAgLjM5LjA0NS43NjUuMTI3IDEuMTI0QzcuNjkxIDguMDk0IDQuMDY2IDYuMTMgMS42NCAzLjE2MWMtLjQyNy43MjItLjY2NiAxLjU2MS0uNjY2IDIuNDc1IDAgMS43MS44NyAzLjIxMyAyLjE4OCA0LjA5Ni0uODA3LS4wMjYtMS41NjYtLjI0OC0yLjIyOC0uNjE2di4wNjFjMCAyLjM4NSAxLjY5MyA0LjM3NCAzLjk0NiA0LjgyNy0uNDEzLjExMS0uODQ5LjE3MS0xLjI5Ni4xNzEtLjMxNCAwLS42MTUtLjAzLS45MTYtLjA4Ni42MzEgMS45NTMgMi40NDUgMy4zNzcgNC42MDQgMy40MTctMS42OCAxLjMxOS0zLjgwOSAyLjEwNS02LjEwMiAyLjEwNS0uMzkgMC0uNzc5LS4wMjMtMS4xNy0uMDY3IDIuMTg5IDEuMzk0IDQuNzY4IDIuMjA5IDcuNTU3IDIuMjA5IDkuMDU0IDAgMTMuOTk5LTcuNDk2IDEzLjk5OS0xMy45ODYgMC0uMjA5IDAtLjQyLS4wMTUtLjYzLjk2MS0uNjg5IDEuOC0xLjU2IDIuNDYtMi41NDhsLS4wNDctLjAyeiIvPgo8L3N2Zz4K" width="24" height="24" alt="Twitter"/></a><a title="Share on Facebook" aria-label="Share on Facebook" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/sharer/sharer.php?u=https://magarcia.github.io/2019/01/26/todomvc-redux-starter-kit/"><img src="data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHRpdGxlPkZhY2Vib29rIGljb248L3RpdGxlPgogICAgPHBhdGggZD0iTTIyLjY3NiAwSDEuMzI0Qy41OTMgMCAwIC41OTMgMCAxLjMyNHYyMS4zNTJDMCAyMy40MDguNTkzIDI0IDEuMzI0IDI0aDExLjQ5NHYtOS4yOTRIOS42ODl2LTMuNjIxaDMuMTI5VjguNDFjMC0zLjA5OSAxLjg5NC00Ljc4NSA0LjY1OS00Ljc4NSAxLjMyNSAwIDIuNDY0LjA5NyAyLjc5Ni4xNDF2My4yNGgtMS45MjFjLTEuNSAwLTEuNzkyLjcyMS0xLjc5MiAxLjc3MXYyLjMxMWgzLjU4NGwtLjQ2NSAzLjYzSDE2LjU2VjI0aDYuMTE1Yy43MzMgMCAxLjMyNS0uNTkyIDEuMzI1LTEuMzI0VjEuMzI0QzI0IC41OTMgMjMuNDA4IDAgMjIuNjc2IDAiLz4KPC9zdmc+Cg==" width="24" height="24" alt="Facebook"/></a><a title="Share on LinkedIn" aria-label="Share on LinkedIn" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://magarcia.github.io/2019/01/26/todomvc-redux-starter-kit/&amp;title=Refactor TodoMVC with Redux Starter Kit&amp;source=https%3A//www.linkedin.com/in/martingarciamonterde/"><img src="data:image/svg+xml;base64,PHN2ZyByb2xlPSJpbWciIHZpZXdCb3g9IjAgMCAyNCAyNCIgCiAgICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHRpdGxlPkxpbmtlZEluIGljb248L3RpdGxlPgogICAgPHBhdGggZD0iTTIwLjQ0NyAyMC40NTJoLTMuNTU0di01LjU2OWMwLTEuMzI4LS4wMjctMy4wMzctMS44NTItMy4wMzctMS44NTMgMC0yLjEzNiAxLjQ0NS0yLjEzNiAyLjkzOXY1LjY2N0g5LjM1MVY5aDMuNDE0djEuNTYxaC4wNDZjLjQ3Ny0uOSAxLjYzNy0xLjg1IDMuMzctMS44NSAzLjYwMSAwIDQuMjY3IDIuMzcgNC4yNjcgNS40NTV2Ni4yODZ6TTUuMzM3IDcuNDMzYy0xLjE0NCAwLTIuMDYzLS45MjYtMi4wNjMtMi4wNjUgMC0xLjEzOC45Mi0yLjA2MyAyLjA2My0yLjA2MyAxLjE0IDAgMi4wNjQuOTI1IDIuMDY0IDIuMDYzIDAgMS4xMzktLjkyNSAyLjA2NS0yLjA2NCAyLjA2NXptMS43ODIgMTMuMDE5SDMuNTU1VjloMy41NjR2MTEuNDUyek0yMi4yMjUgMEgxLjc3MUMuNzkyIDAgMCAuNzc0IDAgMS43Mjl2MjAuNTQyQzAgMjMuMjI3Ljc5MiAyNCAxLjc3MSAyNGgyMC40NTFDMjMuMiAyNCAyNCAyMy4yMjcgMjQgMjIuMjcxVjEuNzI5QzI0IC43NzQgMjMuMiAwIDIyLjIyMiAwaC4wMDN6Ii8+Cjwvc3ZnPgo=" width="24" height="24" alt="LinkedIn"/></a></aside><main><header><h1>Refactor TodoMVC with Redux Starter Kit</h1><small class="info"><time dateTime="2019-01-26">January 26, 2019</time> <!-- -->‐ <!-- -->8 min read</small></header><div><p>I’ve been working with <a href="https://reactjs.org/">React</a> more than two years now. I
started in a quite big project with a lot of work already done that was using
<a href="https://redux.js.org/">Redux</a>. I was a bit overwhelming start directly with so
much stuff done, especially with a framework I didn’t know much about. But after
some time I got more comfortable and experienced.</p>
<p>Recently I discovered the project <a href="https://redux-starter-kit.js.org/">Redux Starter Kit</a>
from the same team that works on Redux. It’s a simple toolset that provides
utilities that can make really simple and easy work with Redux. In fact, one of
the tools it provides, <code class="language-text">createReducer</code>, is a patter I’ve been using for a while
and it helps me a lot on reducing boilerplate code and speeding up my development
(especially in new projects).</p>
<p>So in order to learn more about and get comfortable using it I decided to
migrate an already existing codebase with Redux, using this toolset. Obviously,
as an example project for a frontend framework I picked the omnipresent
<a href="http://todomvc.com/">TodoMVC</a>, in concrete the version that Redux provides as
example in <a href="https://github.com/reduxjs/redux/tree/master/examples/todomvc">his repository</a>.</p>
<h2 id="starting-point"><a href="#starting-point" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Starting point</h2>
<p>For whoever doesn’t know how this app looks like in Redux, it has two main
reducers <code class="language-text">visibilityFilter</code> and <code class="language-text">todos</code>; both with his respective actions,
action creators and selectors.</p>
<h2 id="visibility-filter"><a href="#visibility-filter" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Visibility Filter</h2>
<p>I started with the most “simple” reducer, to start small and then move to a more
complex state.</p>
<h3 id="reducer"><a href="#reducer" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Reducer</h3>
<p>The reducer, as it came from the Redux example, it’s already quite simple and
easy to understand.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// reducers/visibilityFilter.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_VISIBILITY_FILTER</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/ActionTypes"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SHOW_ALL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/TodoFilters"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>state <span class="token operator">=</span> <span class="token constant">SHOW_ALL</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token constant">SET_VISIBILITY_FILTER</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> action<span class="token punctuation">.</span>filter<span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<p>In order to create reducers Redux Starter Kit provides a function <code class="language-text">createReducer</code>,
as I mentioned before it’s a pattern I already used and I’m quite happy with it.</p>
<p>The idea is simple, instead of having to create a reducer function with a
<code class="language-text">switch case</code> statement inside, this function expects the initial state as a
first parameter and an object where the keys are the action types and the value
are the reducers (<code class="language-text">(state, action) =&gt; { /* reducer code */</code>) for this action.</p>
<p>It reduces some boilerplate and will set always the <code class="language-text">default</code> statement as
<code class="language-text">return state</code>. But to me, the biggest benefit is the readability that provides.</p>
<p>This is how the visibility filter reducer looks like using <code class="language-text">createReducer</code>:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// reducers/visibilityFilter.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-starter-kit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_VISIBILITY_FILTER</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/ActionTypes"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SHOW_ALL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/TodoFilters"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createReducer</span><span class="token punctuation">(</span><span class="token constant">SHOW_ALL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">SET_VISIBILITY_FILTER</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> action<span class="token punctuation">.</span>filter
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="actions-creators"><a href="#actions-creators" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actions creators</h3>
<p>Now is time for the actions. The visibility filter only has one action
<code class="language-text">SET_VISIBILITY_FILTER</code> and the creator is very simple:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// actions/index.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">"../constants/ActionTypes"</span><span class="token punctuation">;</span>

<span class="token comment">/* ... Other actions ...*/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setVisibilityFilter</span> <span class="token operator">=</span> filter <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  type<span class="token punctuation">:</span> types<span class="token punctuation">.</span><span class="token constant">SET_VISIBILITY_FILTER</span><span class="token punctuation">,</span>
  filter
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>For the actions, this toolset can be quite opinionated. It provides the function
<code class="language-text">createAction</code> that only expects the action type as a parameter. As a result,
we get an action creator.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// actions/index.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">"../constants/ActionTypes"</span><span class="token punctuation">;</span>

<span class="token comment">/* ... Other actions ...*/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> setVisibilityFilter <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">SET_VISIBILITY_FILTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This action creator can be run with or without parameters. In the case that we
send a parameter this will be set as the payload of the action. This are some
examples of how will work:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> setVisibilityFilter <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"SET_VISIBILITY_FILTER"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> action <span class="token operator">=</span> <span class="token function">setVisibilityFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// { type: 'SET_VISIBILITY_FILTER' }</span>

action <span class="token operator">=</span> <span class="token function">setVisibilityFilter</span><span class="token punctuation">(</span><span class="token string">"SHOW_COMPLETED"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// returns { type: 'SET_VISIBILITY_FILTER', payload: 'SHOW_COMPLETED' }</span>

setVisibilityFilter<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'SET_VISIBILITY_FILTER'</span></code></pre></div>
<p>So now the filter is set into the <code class="language-text">payload</code> key of the action, this implies a
refactor on the reducer since we were using the key filter, but luckily is
very simple to change.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// reducers/visibilityFilter.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-starter-kit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SET_VISIBILITY_FILTER</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/ActionTypes"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">SHOW_ALL</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../constants/TodoFilters"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createReducer</span><span class="token punctuation">(</span><span class="token constant">SHOW_ALL</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">SET_VISIBILITY_FILTER</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> action<span class="token punctuation">.</span>payload
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="selectors"><a href="#selectors" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Selectors</h3>
<p>For me using selectors is one of the best choices that anyone can take when
working with react, because it makes really simple refactor how the state looks
like without having to change all the components that are consuming this part
of the state.</p>
<p>The selector of the visibility filter is one of the most easy ones:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// selectors/index.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">getVisibilityFilter</span> <span class="token operator">=</span> state <span class="token operator">=></span> state<span class="token punctuation">.</span>visibilityFilter<span class="token punctuation">;</span>

<span class="token comment">/* ... Other selectors ...*/</span></code></pre></div>
<p>And it doesn’t change too much using the function <code class="language-text">createSelector</code>. Actually,
we have more code now than with the previous version, but trust me it’s going
to be simpler. Just keep reading.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// selectors/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createSelector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-starter-kit"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> getVisibilityFilter <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"visibilityFilter"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* ... Other selectors ...*/</span></code></pre></div>
<h3 id="slices"><a href="#slices" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slices</h3>
<p>Until now the only thing that we did is changing some simple functions to more
simple functions using different <em>creators</em>. But now is where I discovered the
real power of the toolset: <code class="language-text">createSlice</code>.</p>
<p><code class="language-text">createSlice</code> is a function that accepts an initial state, an object full of
reducer functions, and optionally a “slice name”, and automatically generates
action creators, action types, and selectors ready to be used.</p>
<p>Now we can throw all the code that we did.</p>
<p>Creating a slice for the visibility filter is very clean and easy to understand,
and since we can throw all the previous code that we refactor the final result
it’s removing a lot of boilerplate.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ducks/visibilityFilter.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createSlice <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-starter-kit"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createSlice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  slice<span class="token punctuation">:</span> <span class="token string">"visibilityFilter"</span><span class="token punctuation">,</span>
  initialState<span class="token punctuation">:</span> <span class="token constant">SHOW_ALL</span><span class="token punctuation">,</span>
  reducers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    setVisibilityFilter<span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> action<span class="token punctuation">.</span>payload
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Now we have a single object as a result containing all what we need to work
properly with Redux. This is how it can be used:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  visibilityFilter<span class="token punctuation">:</span> visibilityFilter<span class="token punctuation">.</span>reducer
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span><span class="token punctuation">;</span>

store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>visibilityFilter<span class="token punctuation">.</span>actions<span class="token punctuation">.</span><span class="token function">setVisibilityFilter</span><span class="token punctuation">(</span><span class="token constant">SHOW_COMPLETED</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -> { visibilityFilter: 'SHOW_COMPLETED' }</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>visibilityFilter<span class="token punctuation">.</span>selectors<span class="token punctuation">.</span><span class="token function">getVisibilityFilter</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// -> SHOW_COMPLETED</span></code></pre></div>
<p>All the changes did until now are in <a href="https://github.com/magarcia/todomvc-redux-starter-kit/commit/ae78e0aacd4827786a63f29db4d6f4e0a2079422">this commit</a>.</p>
<h2 id="todos"><a href="#todos" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Todos</h2>
<p>The todos reducer is more complex so I’m not going to show the refactor step by
step. Instead, I’m going to explain how the final result looks like, but if you
are interested in see directly the final result is <a href="https://github.com/magarcia/todomvc-redux-starter-kit/blob/ba531a2ea7c2c5ee8148e2a1ab491e7e0a31e819/src/ducks/todos.js">here</a>.</p>
<p>The first part is defining the inital state:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ducks/todos.js</span>
<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    text<span class="token punctuation">:</span> <span class="token string">"Use Redux"</span><span class="token punctuation">,</span>
    completed<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    id<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<p>In order to make the slice creation more readable, I extracted the different
reducer actions in different functions:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ducks/todos.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">[</span>
  <span class="token operator">...</span>state<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> state<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>maxId<span class="token punctuation">,</span> todo<span class="token punctuation">)</span> <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>todo<span class="token punctuation">.</span>id<span class="token punctuation">,</span> maxId<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    completed<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    text<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>text
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">deleteTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span>
  state<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>todo <span class="token operator">=></span> todo<span class="token punctuation">.</span>id <span class="token operator">!==</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">editTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span>
  state<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>todo <span class="token operator">=></span>
    todo<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id
      <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>todo<span class="token punctuation">,</span> text<span class="token punctuation">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>text <span class="token punctuation">}</span>
      <span class="token punctuation">:</span> todo
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">completeTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span>
  state<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>todo <span class="token operator">=></span>
    todo<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id
      <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token operator">...</span>todo<span class="token punctuation">,</span> completed<span class="token punctuation">:</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>completed <span class="token punctuation">}</span>
      <span class="token punctuation">:</span> todo
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">completeAllTodos</span> <span class="token operator">=</span> state <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> areAllMarked <span class="token operator">=</span> state<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span>todo <span class="token operator">=></span> todo<span class="token punctuation">.</span>completed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>todo <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>todo<span class="token punctuation">,</span>
    completed<span class="token punctuation">:</span> <span class="token operator">!</span>areAllMarked
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">clearCompleted</span> <span class="token operator">=</span> state <span class="token operator">=></span> state<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>todo <span class="token operator">=></span> todo<span class="token punctuation">.</span>completed <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>And now we can put all together in a new slice:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ducks/todos.js</span>
<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token function">createSlice</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  slice<span class="token punctuation">:</span> <span class="token string">"todos"</span><span class="token punctuation">,</span>
  initialState<span class="token punctuation">,</span>
  reducers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    add<span class="token punctuation">:</span> addTodo<span class="token punctuation">,</span>
    <span class="token keyword">delete</span><span class="token punctuation">:</span> deleteTodo<span class="token punctuation">,</span>
    edit<span class="token punctuation">:</span> editTodo<span class="token punctuation">,</span>
    complete<span class="token punctuation">:</span> completeTodo<span class="token punctuation">,</span>
    completeAll<span class="token punctuation">:</span> completeAllTodos<span class="token punctuation">,</span>
    clearCompleted<span class="token punctuation">:</span> clearCompleted
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>By default the selectors returned by <code class="language-text">createSlice</code> are very simples, they just
return the value from the state (eg: <code class="language-text">todos.selectors.getTodos</code>). But in this
application we need to define more complex selectors.</p>
<p>For example, <code class="language-text">getVisibleTodos</code> needs two know about the current visibility filter
and also the todos. <code class="language-text">createSelector</code> gets as a first parameter an array with
strings (the path to select from the state) or other selectors and as a second
parameter the function that’s going to implement the logic that we want to
select the todos based on the selected filter.</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// ducks/todos.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> getVisibilityFilter <span class="token punctuation">}</span> <span class="token operator">=</span> visibilityFilter<span class="token punctuation">.</span>selectors<span class="token punctuation">;</span>

todos<span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>getVisibleTodos <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>getVisibilityFilter<span class="token punctuation">,</span> todos<span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>getTodos<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span>visibilityFilter<span class="token punctuation">,</span> todos<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>visibilityFilter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token constant">SHOW_ALL</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> todos<span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token constant">SHOW_COMPLETED</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=></span> t<span class="token punctuation">.</span>completed<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token constant">SHOW_ACTIVE</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>t <span class="token operator">=></span> <span class="token operator">!</span>t<span class="token punctuation">.</span>completed<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Unknown filter: "</span> <span class="token operator">+</span> visibilityFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

todos<span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>getCompletedTodoCount <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span>todos<span class="token punctuation">.</span>selectors<span class="token punctuation">.</span>getTodos<span class="token punctuation">]</span><span class="token punctuation">,</span>
  todos <span class="token operator">=></span>
    todos<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> todo<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>todo<span class="token punctuation">.</span>completed <span class="token operator">?</span> count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">:</span> count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>As you can notice in the previous code, I created the new selectors in the
<code class="language-text">selectors</code> object in the <code class="language-text">todos</code> slice so now we have all the selectors
accessible in the same place.</p>
<h2 id="create-store"><a href="#create-store" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create Store</h2>
<p>The last two functions provided by the library are <code class="language-text">configureStore</code> and
<code class="language-text">getDefaultMiddleware</code>.</p>
<p><code class="language-text">configureStore</code> is an abstraction over the standard Redux <code class="language-text">createStore</code>
function. Doesn’t provide more functionalities than <code class="language-text">createStore</code> but it makes
things easier to read, like enable developer tools that is just a boolean.</p>
<p><code class="language-text">getDefaultMiddleware</code> returns a list of middlewares
<code class="language-text">[immutableStateInvariant, thunk, serializableStateInvariant]</code> in development
and <code class="language-text">[thunk]</code> in production.</p>
<ul>
<li><code class="language-text">redux-immutable-state-invariant</code>: It can detect mutations in reducers during
a dispatch, and also mutations that occur between dispatches (eg: in selectors
or components).</li>
<li><code class="language-text">serializable-state-invariant-middleware</code>: It deeply checks your state tree
and your actions for non-serializable values such as functions, Promises, etc.</li>
</ul>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token comment">// store.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> configureStore<span class="token punctuation">,</span> getDefaultMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux-starter-kit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> visibilityFilter<span class="token punctuation">,</span> todos <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./ducks"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> preloadedState <span class="token operator">=</span> <span class="token punctuation">{</span>
  todos<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      text<span class="token punctuation">:</span> <span class="token string">"Use Redux"</span><span class="token punctuation">,</span>
      completed<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      id<span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  todos<span class="token punctuation">:</span> todos<span class="token punctuation">.</span>reducer<span class="token punctuation">,</span>
  visibilityFilter<span class="token punctuation">:</span> visibilityFilter<span class="token punctuation">.</span>reducer
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> middleware <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">getDefaultMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  reducer<span class="token punctuation">,</span>
  middleware<span class="token punctuation">,</span>
  devTools<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">"production"</span><span class="token punctuation">,</span>
  preloadedState
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="final-thoughts"><a href="#final-thoughts" aria-hidden class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Final thoughts</h2>
<p>Redux Starter Kit looks interesting, it reduces boilerplate code making the code
cleaner and easy to understand. But also it makes really fast to develop new
code.</p>
<p>Source Code: <a href="https://github.com/magarcia/todomvc-redux-starter-kit">https://github.com/magarcia/todomvc-redux-starter-kit</a></p></div><footer><p><a href="https://mobile.twitter.com/search?q=https%3A%2F%2Fmagarcia.github.io%2F2019%2F01%2F26%2Ftodomvc-redux-starter-kit%2F" target="_blank" rel="noopener noreferrer">Discuss on Twitter</a> <!-- -->‐<!-- --> <a href="https://github.com/magarcia/blog/edit/master/src/pages/todomvc-redux-starter-kit//index.md" target="_blank" rel="noopener noreferrer">Edit on GitHub</a></p></footer><nav><ul><li><a rel="prev" href="/2016/07/04/watch-with-angular2/">← <!-- -->$watch with Angular 2</a></li><li></li></ul></nav></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2019-01-26-todomvc-redux-starter-kit-ac1","path":"/2019/01/26/todomvc-redux-starter-kit/"};window.dataPath="623/path---2019-01-26-todomvc-redux-starter-kit-ac-1-ad5-z5PNVYvh5fIsENXlJhW54W3GAno";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-44e083055daca69579cf.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.5dcf58bf6f0ff11f6d41.css","/component---src-templates-blog-post-js-64ad2b4d3bffb7d2b51c.js"],"component---src-pages-404-js":["/component---src-pages-404-js.2d1f7a0b86d1def98c97.css","/component---src-pages-404-js-b776a907baa3f0da4ea5.js"],"component---src-pages-index-js":["/component---src-pages-index-js.a2bd21c601be63f2d10a.css","/component---src-pages-index-js-36b5d1f6d51e39eef8f4.js"],"pages-manifest":["/pages-manifest-4e79abf8cc4c31b842b1.js"]};/*]]>*/</script><script src="/webpack-runtime-510fead3823cd2e26b43.js" async=""></script><script src="/app-44e083055daca69579cf.js" async=""></script><script src="/0-79f3b6d3bbaf0f030044.js" async=""></script><script src="/component---src-templates-blog-post-js-64ad2b4d3bffb7d2b51c.js" async=""></script></body></html>